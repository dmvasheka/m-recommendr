# ================================
# Movie Recommendr - Environment Variables
# ================================

# ----------------------------------
# Supabase Configuration
# ----------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key-here
SUPABASE_ANON_KEY=your-anon-key-here

# Public keys (used in Next.js frontend)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# ----------------------------------
# OpenAI Configuration
# ----------------------------------
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-key-here

# Model configuration
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4-turbo
OPENAI_CHAT_MODEL_SMALL=gpt-4.1-mini

# ----------------------------------
# TMDB (The Movie Database)
# ----------------------------------
# Get API key from: https://www.themoviedb.org/settings/api
TMDB_API_KEY=your-tmdb-api-key
TMDB_BASE_URL=https://api.themoviedb.org/3
TMDB_IMAGE_BASE_URL=https://image.tmdb.org/t/p

# ----------------------------------
# Trakt (Optional - for watch history sync)
# ----------------------------------
# Get credentials from: https://trakt.tv/oauth/applications
TRAKT_CLIENT_ID=your-trakt-client-id
TRAKT_CLIENT_SECRET=your-trakt-client-secret
TRAKT_REDIRECT_URI=http://localhost:3000/auth/trakt/callback

# ----------------------------------
# Redis / Upstash (for caching & BullMQ)
# ----------------------------------
# Get Redis URL from: https://console.upstash.com/
REDIS_URL=redis://default:your-password@your-instance.upstash.io:6379

# ----------------------------------
# Application Configuration
# ----------------------------------
NODE_ENV=development

# API Server
API_PORT=3001
API_URL=http://localhost:3001

# Next.js Frontend
NEXT_PUBLIC_API_URL=http://localhost:3001

# ----------------------------------
# Security & Auth
# ----------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production
SESSION_SECRET=your-session-secret

# ----------------------------------
# AI/ML Configuration
# ----------------------------------
# Embedding dimensions (OpenAI text-embedding-3-small = 1536)
EMBEDDING_DIMENSIONS=1536

# Vector search settings
VECTOR_SEARCH_LIMIT=50
RECOMMENDATION_LIMIT=10

# RAG settings
RAG_CONTEXT_LIMIT=10
RAG_MAX_TOKENS=4000

# Query router threshold (0-100, lower = more queries go to RAG)
ROUTER_COMPLEXITY_THRESHOLD=50

# ----------------------------------
# BullMQ / Job Queue Configuration
# ----------------------------------
QUEUE_NAME=movie-jobs
QUEUE_CONCURRENCY=5

# ----------------------------------
# Logging & Monitoring
# ----------------------------------
LOG_LEVEL=debug
ENABLE_REQUEST_LOGGING=true
ENABLE_LLM_TRACING=true

# ----------------------------------
# Feature Flags
# ----------------------------------
ENABLE_TRAKT_INTEGRATION=false
ENABLE_MMR_DIVERSIFICATION=true
ENABLE_COLLABORATIVE_FILTERING=false

# ----------------------------------
# Rate Limiting
# ----------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------
# Development Tools
# ----------------------------------
# Enable Swagger API docs
ENABLE_SWAGGER=true

# Enable CORS (for local development)
CORS_ORIGIN=http://localhost:3000
